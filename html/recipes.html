<!-- 
    AUTHOR: Kobina Kyereboah-Coleman
    TODO: Admin Recipe Management Page
    DESCRIPTION: This is the recipes CRUD page for my "Flavors Unfolded" recipe blog website. 
    It allows administrators to manage recipes uploadied on the platform by members.
-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipe Management - Flavors Unfolded</title>
    <link rel="stylesheet" href="../css/admin-styles.css">
    <link rel="icon" href="../static/index.svg" type="image/svg+xml">
</head>

<body>
    <header>
        <h1>Flavors Unfolded</h1>
        <nav>
            <a href="dashboard.html">Dashboard</a>
            <a href="users.html">User Management</a>
        </nav>
    </header>

    <main>
        <section id="recipe-management">
            <h2>Recipe Management</h2>

            <!-- Add Recipe Form -->
            <h3>Add New Recipe</h3>
            <form id="add-recipe-form" class="recipe-form" action="add_recipe.php" method="post" enctype="multipart/form-data">
                <label for="recipe-title">Recipe Title:</label>
                <input type="text" id="recipe-title" name="recipe-title" placeholder="Recipe Title" required>
                
                <!-- Ingredients Section -->
                <fieldset>
                    <legend>Ingredients</legend>

                    <label for="ingredient-origin">Origin:</label>
                    <input type="text" id="ingredient-origin" name="ingredient-origin" placeholder="Ingredient Origin" required>

                    <label for="ingredient-names">Ingredient Names:</label>
                    <textarea id="ingredient-names" name="ingredient-names" placeholder="List of ingredients" required></textarea>

                    <label for="nutritional-value">Nutritional Value:</label>
                    <textarea id="nutritional-value" name="nutritional-value" placeholder="Nutritional information"></textarea>

                    <label for="allergen-info">Allergen Information:</label>
                    <input type="text" id="allergen-info" name="allergen-info" placeholder="Common allergens">

                    <label for="shelf-life">Shelf Life (days):</label>
                    <input type="number" id="shelf-life" name="shelf-life" placeholder="Shelf Life in Days" min="0">

                    <label for="quantity">Quantity:</label>
                    <input type="number" id="quantity" name="quantity" placeholder="Quantity" required>

                    <label for="unit">Unit:</label>
                    <input type="text" id="unit" name="unit" placeholder="e.g., cups, grams" required>
                </fieldset>

                <label for="recipe-image">Recipe Image:</label>
                <input type="file" id="recipe-image" name="recipe-image" accept="image/*" required>

                <label for="preparation-time">Preparation Time (Minutes):</label>
                <input type="number" id="preparation-time" name="preparation-time" min="1" required>

                <label for="cooking-time">Cooking Time (Minutes):</label>
                <input type="number" id="cooking-time" name="cooking-time" min="1" required>

                <label for="serving-size">Serving Size (People):</label>
                <input type="number" id="serving-size" name="serving-size" min="1" required>

                <label for="food-description">Food Description:</label>
                <textarea id="food-description" name="food-description" placeholder="Describe the dish"></textarea>

                <label for="calories-per-serving">Calories per Serving:</label>
                <input type="number" id="calories-per-serving" name="calories-per-serving" min="0">

                <label for="food-origin">Food Origin:</label>
                <input type="text" id="food-origin" name="food-origin" placeholder="Cultural or geographical origin">

                <label for="instructions">Instructions:</label>
                <textarea id="instructions" name="instructions" placeholder="Step-by-step instructions" required></textarea>

                <!--CSRF Token-->
                <input type="hidden" name="csrf_token" value="<?php echo $_SESSION['csrf_token']; ?>">

                <button type="submit">Add Recipe</button>
            </form>

            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Title</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="recipe-list">
                    <!-- Existing recipes will be dynamically rendered here -->
                </tbody>
            </table>
        </section>
    </main>

    <script src="../js/admin-scripts.js"></script>
</body>
</html>
